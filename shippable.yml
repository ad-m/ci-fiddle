language: none
env:
  global:
    - secure: kllPj9ZN5vPwC5nf9ycsU4YEJLKX1Vw2Z/GUza9nN1ldQJUTNtlHztfExzPfvT/YfOhw69OTAc+V2i8Syuh7hrd90Xifxw+zhl4Pv68EZvOTsYgcU1EULmUQ0qUuiZgXFNOyYJMYPUyt1B0sLhB44BMxD3d30Jn/Hmnk+gDmDu3d3PP986evyTHOnSjpAThoit37iIK5+LIcESQ4SB1GIsFwL3gLsCbSVbR5Pv1LMR0SZXnR8LfJGGHJ+g0rT4oL7YqFkIB6+4IaihzMaCd6il71duoPMw4XqHEgWmhCotqkxSOcUbHTeqocf5rL4ZO25h5bkP3RoAisYgQylUpt/A==
  matrix:
    - FORMULA: cmake@3.1.0.rb
    # - FORMULA: cmake@3.1.1.rb
build:
  pre_ci_boot:
    image_name: vidavidorra/docker-linux
    image_tag: ubuntu1404-master
    pull: true
  ci:
    - ls -la
    - git --version
    # - brew uninstall node
    # - brew install node@10
    - export PATH="/home/linuxbrew/.linuxbrew/opt/node@10/bin:$PATH"
    - npm --version
    - node --version
    - npm ci
    - npm run test
    - npm i -D husky
integrations:
  notifications:
    - integrationName: email
      type: email
      recipients:
        - "--last_committer"
        - "--last_author"
      sendConsoleLogs: true
      on_success: never
      on_failure: never
      on_cancel: never
      on_start: never
      on_pull_request: never
